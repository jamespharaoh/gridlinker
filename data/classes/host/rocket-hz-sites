---

identity:

  name: "rocket-hz-sites"
  type: "class"

class:

  namespace: "host"
  parent_namespace: "host"

  groups:

    - "rocket-hz"
    - "icinga-hosts"

ansible:

  ssh_host: "{{ private.address }}"
  ssh_user: "ubuntu"

icinga_core:

  master: "{{ super_cluster.icinga_master }}"
  authority: "rocket-icinga"
  ca_certificate: "/authority/{{ icinga_authority }}/certificate"

icinga_core_host:

  address: "{{ identity_name }}.vpn"

  vars:

    - name: "notification_groups"
      type: "array"
      value:

        - type: "string"
          value: "admins"

private:

  hostnames:

    - "{{ identity_name }}"
    - "{{ identity_name }}.vpn"
    - "{{ identity_name }}.vpn.rocketware.co.uk"

ssh:

  hostnames:

    - "{{ identity.name }}"
    - "{{ private.address }}"

# ex: et ts=2 filetype=yaml
