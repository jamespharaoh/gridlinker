[cache]

STORAGE_DIR = {{ graphite_carbon_storage_directory }}
LOCAL_DATA_DIR = {{ graphite_carbon_whisper_directory }}
WHITELISTS_DIR = {{ graphite_carbon_whitelists_directory }}
CONF_DIR = {{ graphite_carbon_config_directory }}
LOG_DIR = {{ graphite_carbon_log_directory }}
PID_DIR = {{ graphite_carbon_pid_directory }}

ENABLE_LOGROTATION = True

USER = carbon

MAX_CACHE_SIZE = inf
MAX_UPDATES_PER_SECOND = 500
MAX_UPDATES_PER_SECOND_ON_SHUTDOWN = 2000
MAX_CREATES_PER_MINUTE = 50

LINE_RECEIVER_INTERFACE = 0.0.0.0
LINE_RECEIVER_PORT = 2003

ENABLE_UDP_LISTENER = False
UDP_RECEIVER_INTERFACE = 0.0.0.0
UDP_RECEIVER_PORT = 2003

LOG_LISTENER_CONNECTIONS = True

PICKLE_RECEIVER_INTERFACE = 0.0.0.0
PICKLE_RECEIVER_PORT = 2004

USE_INSECURE_UNPICKLER = False

CACHE_QUERY_INTERFACE = 0.0.0.0
CACHE_QUERY_PORT = 7002

USE_FLOW_CONTROL = True

LOG_UPDATES = False
LOG_CACHE_HITS = False
LOG_CACHE_QUEUE_SORTS = True

CACHE_WRITE_STRATEGY = sorted
WHISPER_AUTOFLUSH = False
WHISPER_FALLOCATE_CREATE = True

[relay]

LINE_RECEIVER_INTERFACE = 0.0.0.0
LINE_RECEIVER_PORT = 2013

PICKLE_RECEIVER_INTERFACE = 0.0.0.0
PICKLE_RECEIVER_PORT = 2014

LOG_LISTENER_CONNECTIONS = True

RELAY_METHOD = aggregated-consistent-hashing

REPLICATION_FACTOR = 2

DESTINATIONS = {{ graphite_carbon_relay_destinations }}

MAX_DATAPOINTS_PER_MESSAGE = 500
MAX_QUEUE_SIZE = 10000

QUEUE_LOW_WATERMARK_PCT = 0.8

USE_FLOW_CONTROL = True

[aggregator]

LINE_RECEIVER_INTERFACE = 0.0.0.0
LINE_RECEIVER_PORT = 2023

PICKLE_RECEIVER_INTERFACE = 0.0.0.0
PICKLE_RECEIVER_PORT = 2024

LOG_LISTENER_CONNECTIONS = True

FORWARD_ALL = False

DESTINATIONS = {{ graphite_carbon_aggregator_destinations }}

REPLICATION_FACTOR = 1

MAX_QUEUE_SIZE = 10000

USE_FLOW_CONTROL = True

MAX_DATAPOINTS_PER_MESSAGE = 500
MAX_AGGREGATION_INTERVALS = 5
