---

ubuntu_sources_extra:

  - url: "http://apt.postgresql.org/pub/repos/apt/"
    source: "trusty-pgdg"
    repositories:

      - "main"

ubuntu_keys_extra:

  - url: "https://www.postgresql.org/media/keys/ACCC4CF8.asc"

my_system_packages:

  - name: "build-essential"
    state: "present"

  - name: "iptables"
    state: "present"

  - name: "libav-tools"
    state: "present"

  - name: "postgresql-client-9.5"
    state: "present"

node_deploy_projects:

  - name: "wistla-notification-daemon"
    type: "nodejs"
    nodejs_main: "index.js"
    nodejs_interpreter: "node --harmony"
    nodejs_debug: "node debug --debug-brk=5005 --harmony"
    excludes:

      - "/config/local.yaml"

    configs:

      - target: "local.yaml"
        source: "wistla-notification-daemon-local.yaml"

  - name: "wistla-pubsub"
    type: "nodejs"

  - name: "wistla-db"
    type: "nodejs"

  - name: "wistla-util"
    type: "nodejs"

nodejs_version: "{{ deployment.nodejs_version }}"

nodejs_packages: []

# ex: et ts=2 filetype=yaml
