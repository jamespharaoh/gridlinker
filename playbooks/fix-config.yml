---

- hosts: "localhost"
  gather_facts: false
  tasks:

  - name: "create main config"
    action:
      module: "template"
      src: "config.template"
      dest: "/home/vagrant/datingnode-ansible/config"
    sudo: "yes"
    sudo_user: "vagrant"

  - include_vars: "../config"

  - name: "create dependent configs"
    action:
      module: "template"
      src: "{{ item }}.template"
      dest: "/home/vagrant/datingnode-ansible/{{ item }}"
    sudo: "yes"
    sudo_user: "vagrant"
    with_items:
      - "datingnode-config"
      - "deploy-config"
      - "runtime-config"

# ex: et ts=2 filetype=yaml
