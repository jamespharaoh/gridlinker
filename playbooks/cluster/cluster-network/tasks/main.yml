---

- include: "cluster-setup.yml"
  tags: "cluster-setup"

# ---------- vpc

- include: "cluster-vpc.yml"
  tags: "cluster-vpc"

- include: "cluster-admin-subnet.yml"
  tags: "cluster-admin-subnet"

- include: "cluster-data-subnet.yml"
  tags: "cluster-data-subnet"
  when: "cluster_name != 'ops'"

- include: "cluster-app-subnet.yml"
  tags: "cluster-app-subnet"
  when: "cluster_name != 'ops'"

- include: "cluster-jenkins-subnet.yml"
  tags: "cluster-jenkins-subnet"
  when: "cluster_name == 'ops'"

- include: "cluster-security-groups.yml"
  tags: "cluster-security-groups"

# ---------- balancers

- include: "cluster-app-balancer.yml"
  tags: "cluster-app-balancer"
  when: "cluster_name != 'ops'"

- include: "cluster-admin-balancer.yml"
  tags: "cluster-admin-balancer"

# ex: et ts=2 filetype=yaml
