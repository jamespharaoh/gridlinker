{

	"datingnode": {

		"deployment" 	: "{{ cluster.identity.name }}",
		"build" 		: "{{ cluster.build.web_application }}",
		"dir" 			: "{{ platform_super_dir }}",
		
		"debug-visible" 		: {{ php_bool [cluster.app.debug_visible] }},

		"external-communications" : {
		
				"send"	: {{ php_bool [cluster.app.send_external_communications] }},
		
				"email-white-list" : [
{% set first = true %}
{% for email_address in cluster.app.external_communication_email_white_list %}
{% if not first %}, 
{% endif %}
	"{{ email_address }}" 
{% set first = false %}
{% endfor %}
        		]
		
		},

		"ssl" : {
			"img"			: false,
			"secure"		: false,
			"api"			: false
		},

		"domain-postfix" : ".{{ cluster.cluster.domain_suffix }}",

		"components": {
		
			"app-web" : {

				"ssl" : {
					"main"		: false,
					"img"		: false,
					"static"	: false,
					"api"		: false
				},

				"sitemap-dir" 		: "{{ platform_assets_dir }}/sitemaps",
				
				"adverts-active"	: {{ php_bool [cluster.app.show_adverts] }},
							
				"sentry":"https://8d563d2e914b4a6f8b4c09d5d97dd2c4:bac6407966b8417aa751694195abd2f4@app.getsentry.com/40742"
			},

			"api": {
			
				"discreet-domains" : [
					"ariane.io",
					"kosmos.space"
				],
				
				"sentry":"https://7b441642a16c47afad861eeb9c3c0ba2:43a63d9f8ab54ddd87274c4cb86186d0@app.getsentry.com/40377",
				
				"logReqeusts": {{ php_bool [cluster.app.log_api] }}
			},
			
			"cdn": {
			
				"discreet-domains" : [
					"angara.io",
					"zenit.space"
				],
                 				
                 "sentry":"https://71102a9e8ed545eca4c230dd97287617:aef467c0b11d4660912040f0986b9ece@app.getsentry.com/41006"
			},
			
			"cms" : {
				"ssl" : {
					"main"	: false,
					"api"	: false
				},
				
				"sentry":"https://29f78b77e5c04c0691e6ec80e6f958ee:c3215b6489fd48fdb407f9aa069d8b21@app.getsentry.com/41005"
			},

			"control" : {
				"ssl" : {
					"main"	: false,
					"api"	: false
				},
				
				"sentry": "https://0618461e313e4c19b1bd0785603ece30:6653920925db4ac6b99f78986bdc1958@app.getsentry.com/41004"
			},

			"reports" : {
				"ssl" : {
					"main"	: false,
					"api"	: false
				}
			},


			"website" : {
				"ssl" : {
					"main"	: false,
					"img"	: false
				}
			}
		}
	},

	"database" : {

		"postgresql" : {
			"name" 		: "{{ database_master_name }}",
			"host" 		: "{{ database_master_address }}",
			"port" 		: "{{ database_master_port }}",
			"user" 		: "{{ database_master_user }}",
			"password" 	: "{{ database_master_password }}"
		},

		"postgresql-read-only" : [
{% for database_slave in database_slaves %}
{% if first %}
			{
{% endif %}
				"name" 		: "{{ database_slave.name }}",
				"host" 		: "{{ database_slave.address }}",
				"port" 		: "{{ database_slave.port }}",
				"user" 		: "{{ database_slave.user }}",
				"password" 	: "{{ database_slave.password }}"
{% if last %}
			}
{% else %}
			}, {
{% endif %}
{% endfor %}
		]

	},

	"cache" : {
		"memcache" : [
{% set first = true %}
{% for memcache_node in memcache_nodes %}
{% if not first %}
		,
{% endif %}
			{
				"host" 	: "{{ memcache_node.name }}",
				"port" 	: {{ memcache_node.port }}
			}
{% set first = false %}
{% endfor %}
		]
	},

	"data-store" : {
		"user-data-dir"		: "{{ platform_assets_dir }}/user-data",
		"image-cache-dir" 	: "{{ platform_assets_dir }}/image-cache"
	},
 
	"errors" : {
		"email"		: "errors@datingnode.com",
		"log-dir"	: "{{ platform_log_dir }}"
	}
}
