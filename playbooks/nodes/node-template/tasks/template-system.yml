---

- name: "create apt sources.list"
  action:
    module: "template"
    src: "template-apt-sources-list"
    dest: "/etc/apt/sources.list"
  sudo: "yes"
  register: "create_apt_sources_result"

- name: "update apt package lists"
  shell: apt-get update
  sudo: "yes"
  when: "create_apt_sources_result | changed"

- name: "create resolv.conf"
  action:
    module: "template"
    src: "template-resolv-conf"
    dest: "/etc/resolv.conf"
  sudo: "yes"

- name: "create network interfaces"
  action:
    module: "template"
    src: "template-network-interfaces"
    dest: "/etc/network/interfaces"
  sudo: "yes"

- name: "install ssh known hosts"
  action:
    module: "template"
    src: "template-ssh-known-hosts"
    dest: "/etc/ssh/ssh_known_hosts"
  sudo: "yes"

# ex: et ts=2 filetype=yaml
