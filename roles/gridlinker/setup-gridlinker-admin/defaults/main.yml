---

gridlinker_admin_name: "{{ NAME }}"
gridlinker_admin_repository: "{{ git_home }}/{{ gridlinker_admin_name }}.git"
gridlinker_admin_branch: "master"
gridlinker_admin_target: "/home/ubuntu/{{ gridlinker_admin_name }}"

gridlinker_admin_ca_certificate: "{{ etcd_client_ca_certificate }}"
gridlinker_admin_certificate: "{{ etcd_client_certificate }}"
gridlinker_admin_private_key: "{{ etcd_client_private_key }}"

gridlinker_admin_connection: "{{ CONNECTION }}"
gridlinker_admin_prefix: "/{{ gridlinker_admin_name }}"
gridlinker_admin_servers: [ "{{ identity.name }}" ]

gridlinker_admin_config: "{{ gridlinker_admin_target }}/config"

gridlinker_admin_directories:

  - directory: "{{ gridlinker_admin_config }}"
    mode: "0755"

gridlinker_admin_config_templates:

  - target: "{{ gridlinker_admin_config }}/connections.yml"
    template: "gridlinker-admin-connections"
    mode: "0644"

  - target: "{{ gridlinker_admin_config }}/overrides.yml"
    template: "gridlinker-admin-connections"
    mode: "0644"

gridlinker_admin_credentials:

  - target: "{{ gridlinker_admin_config }}/{{ gridlinker_admin_name }}-ca.cert"
    source: "{{ gridlinker_admin_ca_certificate }}"
    mode: "0644"

  - target: "{{ gridlinker_admin_config }}/{{ gridlinker_admin_name }}.cert"
    source: "{{ gridlinker_admin_certificate }}"
    mode: "0644"

  - target: "{{ gridlinker_admin_config }}/{{ gridlinker_admin_name }}.key"
    source: "{{ gridlinker_admin_private_key }}"
    mode: "0600"

# ex: et ts=2 filetype=yaml
