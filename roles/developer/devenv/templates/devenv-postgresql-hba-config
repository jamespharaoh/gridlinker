local all all trust

# trusted hosts from config
{% for trusted_client in dev_trusted_clients %}
host all all {{ trusted_client }}/32 trust
{% endfor %}

# other vagrant boxes (todo this doesn't work right, need to use vpn ips)
{% for other_deployment_name in dev_deployment_names %}
{% set other_deployment = deployments [other_deployment_name] %}
host all all {{ other_deployment.bridge_network }}.0.1/32 trust
{% endfor %}

# local api2 nodes
{% for index in [ 0, 1, 2, 3, 4 ] %}
{% print [
	'host',
	'all',
	'all',
	[
		deployment.bridge_network,
		index,
		node_type_indices.api2,
	] | join ('.') + '/32',
	'trust',
] | join (' '), '\n' %}
{% endfor %}
