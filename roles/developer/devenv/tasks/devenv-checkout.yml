---

- name: "checkout projects from git"
  with_items: "{{ devenv_checkouts }}"
  when: "deployment_mode == 'vagrant'"
  args:

    executable: "/bin/bash"
    creates: "{{ deployment_home }}/{{ item.name }}"

  shell:

    set -euf -o pipefail;

    cd {{ deployment_home }};

    git clone
      {{ git_base_url }}/{{ item.name }}
      --branch {{ item.branch }};

# ex: et ts=2 filetype=yaml
