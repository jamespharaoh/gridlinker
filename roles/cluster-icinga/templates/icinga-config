include "constants.conf"
include "zones.conf"

include <itl>
include <plugins>

include "features-enabled/*.conf"

{% if true %}
object FileLogger "notice-file" {
	severity = "notice"
	path = "/var/log/icinga2/notice.log"
}
{% endif %}

{% if false %}
object FileLogger "debug-file" {
	severity = "debug"
	path = "/var/log/icinga2/debug.log"
}
{% endif %}

object ApiListener "api" {

	ca_path = "/etc/icinga2/pki/wistla-icinga-ca.cert"
	cert_path = "/etc/icinga2/pki/wistla-{{ cluster }}-admin-{{ zon }}.cert"
	key_path = "/etc/icinga2/pki/wistla-{{ cluster }}-admin-{{ zon }}.key"

{% if cluster == 'ops' and zon == 'a' %}
	accept_config = false
{% else %}
	accept_config = true
{% endif %}

	accept_commands = true

}
