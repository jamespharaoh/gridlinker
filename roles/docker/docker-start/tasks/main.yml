---

- name: "start container"
  delegate_to: "host/{{ identity.parent }}"
  action:

    module: "docker_container"
    name: "{{ start.name }}"
    image: "{{ start.registry }}/{{ start.image }}"
    state: "started"

    command: "/sbin/my_init"

    dns_servers:
      - "{{ parent.private.address }}"

    exposed_ports: "{{ start.expose }}"
    published_ports: "{{ start.ports }}"

    tty: "True"
    interactive: "True"

    volumes: "{{ start.volumes }}"

    env: "{{ start.env }}"

# ex: et ts=2 filetype=yaml
