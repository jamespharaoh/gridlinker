127.0.0.1 localhost

{% if deployment_mode == 'vagrant' %}

# ---------- shortcut hosts for dev only

{% for host_name in groups.all if host_name in groups.node %}
{% set host = hostvars [host_name] %}
{{ deployment_bridge_network }}.{{ host.grp }}.{{ host.idx }} {{ host_name }} {{ host_name }}.dev.wistla.com
{% endfor %}

{% for subdomain in [ 'api' ] %}
{% for host_name in groups ['load-node'] %}
{% set host = hostvars [host_name] %}
{{ deployment_bridge_network }}.{{ host.grp }}.{{ host.idx }} {{ subdomain }}.dev.wistla.com
{% endfor %}
{% endfor %}

{% endif %}

{% for other_deployment_name, other_deployment in deployments.items () %}

# ---------- deployment {{ other_deployment_name }}

{% for host_name in groups.all if host_name in groups.node %}
{% set host = hostvars [host_name] %}
{{ other_deployment.bridge_network }}.{{ host.grp }}.{{ host.idx }} {{ host_name }}.{{ other_deployment.private_domain }}
{% endfor %}

{% for subdomain in [ 'api' ] %}
{% for host_name in groups ['load-node'] %}
{% set host = hostvars [host_name] %}
{{ other_deployment.bridge_network }}.{{ host.grp }}.{{ host.idx }} {{ subdomain }}.{{ other_deployment.private_domain }}
{% endfor %}
{% endfor %}

{% endfor %}

{% for cluster_name, cluster in clusters.items () %}

# ---------- cluster {{ cluster_name }}

{% for cluster_host_name in groups ['cluster-host'] %}
{% set cluster_host = hostvars [cluster_host_name] %}
{{ cluster.cluster_net }}.{{ cluster_subnets [cluster_host.cluster_type] [cluster_host.zon] }}.{{ cluster_host.idx }} {{ cluster_host_name }}.{{ cluster.cluster_domain }}
{% endfor %}

{% endfor %}
