---

- name: "create mongo.conf"
  become: "yes"
  action:

    module: "template"
    dest: "/etc/mongodb.conf"
    src: "mongo-conf"

- name: "create mongodb directories"
  with_items:

    - directory: "/var/log/mongodb"
      owner: "mongodb"
      group: "adm"
      mode: "0750"

    - directory: "/var/lib/mongodb"
      owner: "mongodb"
      group: "adm"
      mode: "0750"

  become: "yes"
  action:

    module: "file"
    path: "{{ item.directory }}"
    state: "directory"

    owner: "{{ item.owner }}"
    group: "{{ item.group }}"
    mode: "{{ item.mode }}"

# ex: et ts=2 filetype=yaml
