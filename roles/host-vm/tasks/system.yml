---

- name: "update system packages"
  action:
    module: "apt"
    upgrade: "yes"
    update_cache: "yes"
  sudo: "yes"
  tags: "update"

- name: "install default packages"
  action:
    module: "apt"
    package: "{{ item }}"
    state: "present"
  sudo: "yes"
  with_items: "default_packages"
  tags: "update"

- name: "remove unwanted packages"
  action:
    module: "apt"
    package: "{{ item }}"
    state: "absent"
  sudo: "yes"
  with_items: "remove_packages"
  tags: "update"

- name: "configure network"
  action:
    module: "template"
    src: "network-interfaces"
    dest: "/etc/network/interfaces"
  sudo: "yes"
  tags: "network"
