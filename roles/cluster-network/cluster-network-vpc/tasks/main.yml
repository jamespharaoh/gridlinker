---

- include: "cluster-network-vpc.yml"
  tags:

    - "cluster"
    - "cluster-network"
    - "cluster-network-vpc"

- include: "cluster-network-subnet.yml"
  subnet_name: "admin"
  tags:

    - "cluster"
    - "cluster-network"
    - "cluster-network-subnet"
    - "cluster-network-subnet-admin"

- include: "cluster-network-subnet.yml"
  when: "cluster_name != 'ops'"
  subnet_name: "app"
  tags:

    - "cluster"
    - "cluster-network"
    - "cluster-network-subnet"
    - "cluster-network-subnet-app"

- include: "cluster-network-subnet.yml"
  when: "cluster_name != 'ops'"
  subnet_name: "data"
  tags:

    - "cluster"
    - "cluster-network"
    - "cluster-network-subnet"
    - "cluster-network-subnet-data"

- include: "cluster-network-subnet.yml"
  when: "cluster_name == 'ops'"
  subnet_name: "data"
  tags:

    - "cluster"
    - "cluster-network"
    - "cluster-network-subnet"
    - "cluster-network-subnet-data"

- include: "cluster-network-security-groups.yml"
  tags:

    - "cluster"
    - "cluster-network"
    - "cluster-network-security-groups"

- include: "cluster-network-balancer-app.yml"
  when: "cluster_name != 'ops'"
  tags:

    - "cluster"
    - "cluster-network"
    - "cluster-network-balancer"
    - "cluster-network-balancer-app"

- include: "cluster-network-balancer-admin.yml"
  tags:

    - "cluster"
    - "cluster-network"
    - "cluster-network-balancer"
    - "cluster-network-balancer-admin"

# ex: et ts=2 filetype=yaml
